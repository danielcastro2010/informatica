<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trivia San JosÃ© de Calasanz</title>

<!-- ESTILOS PARA EL MODAL -->
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f3f4f6;
  text-align: center;
  margin: 0;
  padding: 0;
}
section {
  padding: 50px 0;
}
button {
  background-color: #0074D9;
  color: white;
  border: none;
  padding: 12px 25px;
  font-size: 16px;
  border-radius: 6px;
  cursor: pointer;
}
button:hover {
  background-color: #005fa3;
}

/* Modal */
.modal {
  display: none;
  position: fixed;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5);
  z-index: 1000;
}
.modal-contenido {
  background: white;
  margin: 5% auto;
  padding: 20px;
  border-radius: 10px;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  text-align: left;
}
.cerrar {
  float: right;
  cursor: pointer;
  font-size: 24px;
  font-weight: bold;
  color: #333;
}
.cerrar:hover {
  color: red;
}

/* Resultados */
.correcta { color: green; font-weight: bold; }
.incorrecta { color: red; font-weight: bold; }
#resultado { margin-top: 1em; }
</style>
</head>

<body>

<!-- SECCIÃ“N PARA JUGAR TRIVIA -->
<section id="jugar-trivia">
  <h2>Â¿Te animas a poner a prueba tus conocimientos sobre San JosÃ© de Calasanz?</h2>
  <button id="abrirTrivia">Comenzar Trivia</button>
</section>

<!-- MODAL -->
<div id="modalTrivia" class="modal">
  <div class="modal-contenido">
    <span class="cerrar">&times;</span>

    <h2>Trivia sobre San JosÃ© de Calasanz</h2>
    <form id="formTrivia">

      <p><strong>1.</strong> Â¿DÃ³nde naciÃ³ San JosÃ© de Calasanz?</p>
      <label><input type="radio" name="p1" value="Madrid"> Madrid</label><br>
      <label><input type="radio" name="p1" value="Peralta de la Sal"> Peralta de la Sal</label><br>
      <label><input type="radio" name="p1" value="Roma"> Roma</label><br><br>

      <p><strong>2.</strong> Â¿En quÃ© aÃ±o naciÃ³?</p>
      <label><input type="radio" name="p2" value="1556"> 1556</label><br>
      <label><input type="radio" name="p2" value="1656"> 1656</label><br>
      <label><input type="radio" name="p2" value="1756"> 1756</label><br><br>

      <p><strong>3.</strong> Â¿DÃ³nde fundÃ³ la primera escuela gratuita?</p>
      <label><input type="radio" name="p3" value="Zaragoza"> Zaragoza</label><br>
      <label><input type="radio" name="p3" value="Roma"> Roma</label><br>
      <label><input type="radio" name="p3" value="Barcelona"> Barcelona</label><br><br>

      <p><strong>4.</strong> Â¿QuÃ© lema representa su misiÃ³n educativa?</p>
      <label><input type="radio" name="p4" value="Fe y razÃ³n"> Fe y razÃ³n</label><br>
      <label><input type="radio" name="p4" value="Justicia y amor"> Justicia y amor</label><br>
      <label><input type="radio" name="p4" value="Piedad y letras"> Piedad y letras</label><br><br>

      <p><strong>5.</strong> Â¿QuÃ© dÃ­a se celebra su festividad?</p>
      <label><input type="radio" name="p5" value="25 de agosto"> 25 de agosto</label><br>
      <label><input type="radio" name="p5" value="12 de octubre"> 12 de octubre</label><br>
      <label><input type="radio" name="p5" value="15 de mayo"> 15 de mayo</label><br><br>

      <button type="submit">Enviar respuestas</button>
    </form>

    <div id="resultado"></div>
  </div>
</div>

<!-- SCRIPT PARA ABRIR/CERRAR MODAL Y PROCESAR LA TRIVIA -->
<script>
const modal = document.getElementById("modalTrivia");
const btnAbrir = document.getElementById("abrirTrivia");
const btnCerrar = document.querySelector(".cerrar");

// Abrir y cerrar modal
btnAbrir.onclick = () => { modal.style.display = "block"; };
btnCerrar.onclick = () => { modal.style.display = "none"; };
window.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };

// Evaluar la trivia
document.getElementById("formTrivia").addEventListener("submit", function(e) {
  e.preventDefault();
  let puntaje = 0;
  let salida = "";

  // Respuestas correctas
  const respuestas = {
    p1: "Peralta de la Sal",
    p2: "1556",
    p3: "Roma",
    p4: "Piedad y letras",
    p5: "25 de agosto"
  };

  // Evaluar cada pregunta
  for (let i = 1; i <= 5; i++) {
    let r = document.querySelector(`input[name="p${i}"]:checked`);
    if (r) {
      if (r.value === respuestas[`p${i}`]) {
        puntaje++;
        salida += `<p class="correcta">${i}. âœ… Correcta</p>`;
      } else {
        salida += `<p class="incorrecta">${i}. âŒ Incorrecta. Correcta: ${respuestas[`p${i}`]}</p>`;
      }
    } else {
      salida += `<p class="incorrecta">${i}. âŒ No respondida. Correcta: ${respuestas[`p${i}`]}</p>`;
    }
  }

  // Mensaje final
  salida += `<h4>Puntaje final: ${puntaje} de 5</h4>`;
  if (puntaje === 5) salida += "<p>ğŸŒŸ Â¡Excelente trabajo! Conoces muy bien la vida de San JosÃ© de Calasanz.</p>";
  else if (puntaje >= 3) salida += "<p>ğŸ‘ Muy bien, conoces bastante sobre Calasanz.</p>";
  else salida += "<p>ğŸ“– Puedes repasar la pÃ¡gina para aprender mÃ¡s.</p>";

  document.getElementById("resultado").innerHTML = salida;
});
</script>

</body>
</html>
